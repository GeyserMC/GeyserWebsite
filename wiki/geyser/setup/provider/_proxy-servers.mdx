import Admonition from '@theme/Admonition';

import { Versions } from '@site/src/components/Versions'

:::info
- Install Geyser **only** on the proxy server! You can install Floodgate on all servers for better skin support &
network-wide Floodgate API availability for other plugins.
- All servers on the network must accept <Versions platform="java"/> Java clients, as Geyser imitates one.
:::

{props.provider.warn ? <Admonition type="warning" title='Warn'>{props.provider.warn}</Admonition> : null}

<h3>Installing Geyser:</h3>
{props.provider.custom_install_location ? props.provider.custom_install_location : (
    <ol>
        <li>Download the plugin for your proxy software from [the download page](/download).</li>
        <li>Place the Geyser plugin jar in the `plugins` folder.</li>
        <li>Restart the proxy.</li>
    </ol>
)}
<br />

{props.provider.config ? (
    <>
        <h3>Geyser config changes:</h3>
        Open your Geyser config. It is located in `/config/Geyser-Velocity/config.yml` (or
        `/config/Geyser-BungeeCord/config.yml`), and change the following:
        <ol>
            {props.provider.config.address ? <li>Change the `address` to `{props.provider.config.address}`</li> : null}
            {props.provider.config.port ? <li>Change the `port` to `{props.provider.config.port}`</li> : null}
            {props.provider.config.clone_remote_port ? <li>Change `clone-remote-port` to `true`</li> : null}
            {props.provider.config.port_instruction ? <li>{props.provider.config.port_instruction}</li> : null}
            {props.provider.config.address_instruction ? <li>{props.provider.config.address_instruction}</li> : null}
            {props.provider.config.other_instructions ? <li>{props.provider.config.other_instructions}</li> : null}
        </ol>
    </>
) : null}


{props.provider.additional_step ? (
    <>
        <h3>Additional Steps:</h3>
        {props.provider.additional_step}
        <br />
    </>
) : null}


{props.provider.connect_instructions ? (
    <>
        <h3>Connecting on Bedrock:</h3>
        {props.provider.connect_instructions}
    </>
) : null}


{props.provider.info ? <Admonition type="info" title='Info'>{props.provider.info}</Admonition> : null}


{props.provider.hosting_article || props.provider.hosting_support ? (
    <>
        <h4>More Information:</h4>
        <ul>
            {props.provider.hosting_article ? (<li><a href={props.provider.hosting_article} target='_blank'>Hosting provider article</a></li>) : null}
            {props.provider.hosting_support ? (<li><a href={props.provider.hosting_support} target='_blank'>Hosting provider support</a></li>) : null}
        </ul>
    </>
) : null}